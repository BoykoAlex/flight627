<!doctype html>
<html style="height: 100%;">
<head>
<meta name="copyright"
	content="Copyright (c) IBM Corporation and others 2010.">
<meta http-equiv="Content-Language" content="en-us">
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>Embedded Orion Editor</title>

<script src="http://cdn.sockjs.org/sockjs-0.3.4.min.js"></script>
<script src='../js/vertx/vertxbus-2.1.js'></script>
</head>

<body class="claro" style="width: 100%; height: 100%;">
	<script type="text/javascript">
		var eb = new vertx.EventBus('http://localhost:3001/eventbus');

		eb.onopen = function() {

			var request = {
				kind : 'request',
				description : 'resource.get',
				contents : {
					projectName : 'mvc',
					path : 'src/mvc/Activator.java',
					timestamp : 0,
					hash : '123'
				}
			};

			console.log('start');
			eb.send('flight.resourceProvider', request, function(reply) {
				var json = JSON.parse(JSON.stringify(reply));
				console.log(json);
				console.log('I received buffer :' + json.contents.data);
			});
		}
	</script>
</body>
</html>
